<!-- admin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel: Family Vacation Voting</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="adminLogin">
        <h2>Admin Panel Login</h2>
        <input type="password" id="adminPassword" placeholder="Enter admin code"
               onkeypress="if(event.key==='Enter'){window.checkAdminLogin();}">
        <button onclick="window.checkAdminLogin()" class="primary" id="loginBtn">Login</button>
        <div id="loginError"></div>
    </div>
    <div id="adminPanel" style="display:none;">
        <div class="admin-header">
            <h2>Admin Panel: Manage Votes &amp; Options</h2>
            <button onclick="window.resetAllVotes()" class="danger">Reset All Votes</button>
        </div>
        <div class="admin-section">
            <h4>Manage Vacation Choices</h4>
            <table id="optionsTable"></table>
            <div>
                <strong>Add new choice:</strong><br>
                <input id="newOptionName" placeholder="Name" style="min-width:180px;">
                <input id="newOptionDesc" placeholder="Description" style="min-width:340px;">
                <button onclick="window.addOption()" class="primary">Add Option</button>
            </div>
        </div>
        <div class="admin-section">
            <h4>Manage Voters</h4>
            <strong>Total voters:</strong> <span id="voterCount">...</span>
            <div id="tableWrap" style="margin-top:10px;">
                <table id="votersTable"></table>
            </div>
        </div>
        <dialog id="journeyDialog" style="min-width:330px;max-width:620px;background:#191a1d;color:white;border-radius:12px;box-shadow:0 4px 24px #0009;padding:24px;border:2px solid #33b9f2;">
            <h3>Voter's Ballot Journey</h3>
            <div id="adminBallotJourney"></div>
            <button style="margin-top:24px;" class="btn btn--primary" onclick="document.getElementById('journeyDialog').close();">Close</button>
        </dialog>
    </div>
    <!-- Firebase and admin.js -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyC2VxIDKNyndiW-RznlrJE1ujXRZPQGf_A",
        authDomain: "vacation-planner-7ab34.firebaseapp.com",
        projectId: "vacation-planner-7ab34",
        storageBucket: "vacation-planner-7ab34.firebasestorage.app",
        messagingSenderId: "363735780480",
        appId: "1:363735780480:web:bc2fc95eb355e35d86aa65"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>
    <script src="admin.js"></script>
</body>
</html>
